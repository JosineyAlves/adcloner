<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>combined_content</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="guia-abrangente-de-integração-da-api-do-facebookmeta-para-saas">Guia Abrangente de Integração da API do Facebook/Meta para SaaS</h1>
<h2 id="introdução">Introdução</h2>
<p>Este guia tem como objetivo fornecer uma visão abrangente e detalhada sobre como integrar um Software as a Service (SaaS) com a API do Facebook/Meta. A integração permitirá que sua plataforma gerencie múltiplos perfis do Facebook, incluindo contas de usuário, Business Managers e Páginas, crie e replique campanhas de anúncios, e forneça um dashboard para análise de dados de desempenho, como cliques, conversões e outras métricas fornecidas pelo Facebook.</p>
<p>A API do Facebook/Meta é uma ferramenta poderosa que permite a interação programática com o ecossistema do Facebook, incluindo o acesso a dados e a execução de ações em nome de usuários e empresas. Compreender a estrutura da API, os diferentes tipos de autenticação, as permissões necessárias e as melhores práticas é crucial para uma integração bem-sucedida e escalável.</p>
<p>Este documento abordará os seguintes tópicos:</p>
<ol type="1">
<li><strong>Autenticação e Gerenciamento de Contas:</strong> Como conectar múltiplas contas, Business Managers e Páginas do Facebook.</li>
<li><strong>APIs de Campanhas e Anúncios:</strong> Como criar, gerenciar e replicar campanhas através da API.</li>
<li><strong>APIs de Relatórios e Analytics:</strong> Como obter dados de cliques, conversões, métricas e outros dados para o dashboard.</li>
<li><strong>Permissões, Limitações e Melhores Práticas:</strong> Requisitos de permissões, limites de taxa e diretrizes de desenvolvimento.</li>
</ol>
<h2 id="autenticação-e-gerenciamento-de-contas">1. Autenticação e Gerenciamento de Contas</h2>
<p>A autenticação é o primeiro passo para interagir com a API do Facebook/Meta. Ela envolve a obtenção e o uso de <strong>Access Tokens</strong>, que são strings opacas que identificam um usuário, aplicativo ou Página e autorizam chamadas à API Graph. A maioria das chamadas de API no ecossistema Meta exige um access token.</p>
<h3 id="tipos-de-access-tokens">Tipos de Access Tokens</h3>
<p>Existem diferentes tipos de Access Tokens, cada um com um propósito específico e método de obtenção. A escolha do tipo de token depende da funcionalidade que seu SaaS precisa implementar.</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Tipo de Access Token</th>
<th>Descrição</th>
<th>Uso Principal</th>
<th>Método de Obtenção</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>App Access Token</strong></td>
<td>Usado para ler e modificar as configurações do aplicativo.</td>
<td>Gerenciamento de configurações do aplicativo, criação de usuários de teste, leitura de insights do aplicativo.</td>
<td>Chamada servidor-para-servidor usando App ID e App Secret.</td>
</tr>
<tr class="even">
<td><strong>Client Token</strong></td>
<td>Usado para acessar APIs de nível de aplicativo em aplicativos nativos ou de desktop.</td>
<td>Identificação do aplicativo em ambientes cliente.</td>
<td>Encontrado no painel do aplicativo Meta.</td>
</tr>
<tr class="odd">
<td><strong>Page Access Token</strong></td>
<td>Usado para ler, escrever e modificar dados pertencentes a uma Página do Facebook.</td>
<td>Publicação em Páginas, gerenciamento de conteúdo, obtenção de insights da Página.</td>
<td>Obtido a partir de um User Access Token via API Graph.</td>
</tr>
<tr class="even">
<td><strong>System User Access Token</strong></td>
<td>Usado para ações programáticas e automatizadas em objetos de anúncios ou Páginas de clientes de negócios, sem depender da reautenticação do usuário.</td>
<td>Automação de tarefas em Business Managers e contas de anúncios.</td>
<td>Configurado no Business Manager.</td>
</tr>
<tr class="odd">
<td><strong>User Access Token</strong></td>
<td>Usado quando o aplicativo executa ações em tempo real com base na entrada do usuário, lendo, modificando ou escrevendo dados do Facebook em nome de uma pessoa.</td>
<td>Login de usuários, acesso a informações do perfil do usuário, publicação em nome do usuário.</td>
<td>Geralmente obtido via diálogo de login do Facebook.</td>
</tr>
</tbody>
</table>
<h3 id="tokens-de-curta-e-longa-duração">Tokens de Curta e Longa Duração</h3>
<p>User Access Tokens podem ser de curta ou longa duração. Tokens de curta duração geralmente duram cerca de uma a duas horas e são obtidos via login web. Eles podem ser convertidos em tokens de longa duração (que duram cerca de 60 dias) através de uma chamada de API server-side com o App Secret. Aplicativos móveis que usam os SDKs do Facebook para iOS e Android obtêm tokens de longa duração por padrão. É importante notar que tokens de longa duração para a Marketing API com acesso padrão podem não ter tempo de expiração, mas ainda estão sujeitos a invalidação por outros motivos.</p>
<h3 id="portabilidade-de-tokens">Portabilidade de Tokens</h3>
<p>A maioria dos tokens é portátil, o que significa que, uma vez obtidos, podem ser usados para fazer chamadas de um cliente móvel, navegador web ou servidor para os servidores do Facebook. No entanto, a movimentação de tokens entre cliente e servidor deve ser feita de forma segura via HTTPS.</p>
<h3 id="gerenciamento-de-páginas">Gerenciamento de Páginas</h3>
<p>A <strong>Facebook Pages API</strong> permite que seu SaaS acesse e atualize as configurações e o conteúdo de uma Página do Facebook, crie e obtenha Posts, obtenha Comentários em conteúdo de propriedade da Página, obtenha insights da Página, atualize ações que os Usuários podem realizar em uma Página, e muito mais.</p>
<p>Para gerenciar Páginas, seu aplicativo precisará das seguintes permissões (obtidas via Facebook Login for Business): <code>pages_manage_engagement</code>, <code>pages_manage_metadata</code>, <code>pages_manage_posts</code>, <code>pages_read_engagement</code>, <code>pages_read_user_engagement</code>, <code>pages_show_list</code>, e <code>publish_video</code> (se for publicar vídeo). Se estiver usando um usuário de sistema de negócios, a permissão <code>business_management</code> é necessária.</p>
<p><strong>Exemplo de Obtenção de Páginas:</strong> Para obter uma lista de todas as Páginas nas quais o aplicativo pode realizar tarefas, as tarefas específicas que podem ser realizadas em cada Página e um Page Access Token de curta duração para cada Página, envie uma requisição <code>GET</code> para o endpoint <code>/user_id/accounts</code> usando um User Access Token.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="ex">curl</span> -i -X GET <span class="kw">\</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>  <span class="st">&quot;https://graph.facebook.com/USER_ID/accounts?access_token=USER_ACCESS_TOKEN&quot;</span></span></code></pre></div>
<h3 id="onboarding-de-clientes-em-escala-business-manager">Onboarding de Clientes em Escala (Business Manager)</h3>
<p>O <strong>Meta Business SDK</strong> oferece um guia para “Onboard Clients at Scale”, ideal para empresas que gerenciam um grande número de pequenas empresas e desejam oferecer a compra de anúncios dentro de sua própria plataforma. Ele permite criar contas de anúncios para clientes, gerenciar suas campanhas e pagar por anúncios em nome deles.</p>
<p>A solução utiliza um modelo de <strong>Business Manager de 2 níveis</strong>, onde você pode criar um Business Manager filho em nome de seu cliente usando o user access token dele e uma Página do Facebook de propriedade do cliente. Por padrão, o cliente não tem acesso ao Business Manager filho, mas você tem acesso completo e pode conceder permissão somente leitura.</p>
<p>Um usuário de sistema Admin com acesso de anunciante é anexado ao Business Manager do cliente, e seu access token pode ser usado para criar contas de anúncios e associar outros ativos (pixel, público personalizado, catálogo de produtos). É possível compartilhar a linha de crédito do seu Business Manager pai com o Business Manager filho e atribuir um limite de gastos.</p>
<h1 id="resumo-do-gerenciamento-de-páginas-via-facebook-pages-api">Resumo do Gerenciamento de Páginas via Facebook Pages API</h1>
<p>A Facebook Pages API permite que aplicativos acessem e atualizem as configurações e o conteúdo de uma Página do Facebook, criem e obtenham Posts, obtenham Comentários em conteúdo de propriedade da Página, obtenham insights da Página, atualizem ações que os Usuários podem realizar em uma Página, e muito mais.</p>
<h2 id="principais-funcionalidades">Principais Funcionalidades:</h2>
<ul>
<li><p><strong>Obter Páginas:</strong> É possível obter uma lista de todas as Páginas nas quais o aplicativo pode realizar tarefas, as tarefas específicas que podem ser realizadas em cada Página e um access token de Página de curta duração para cada Página. Isso é feito enviando uma requisição <code>GET</code> para o endpoint <code>/user_id/accounts</code> usando um User Access Token.</p></li>
<li><p><strong>Obter Detalhes da Página:</strong> Se o aplicativo pode realizar a tarefa <code>MANAGE</code> na Página, ou se foi aprovado para o recurso Page Public Content Access, pode-se usar um Page Access Token (ou User Access Token) para visualizar detalhes da Página como <code>about</code>, <code>email</code>, <code>hours</code>, etc. Isso é feito enviando uma requisição <code>GET</code> para o endpoint <code>/page_id</code> com o parâmetro <code>fields</code> definido para os detalhes desejados.</p></li>
<li><p><strong>Atualizar Detalhes da Página:</strong> Se o aplicativo pode realizar a tarefa <code>MANAGE</code> na Página, pode-se usar um Page Access Token para enviar uma requisição <code>POST</code> para o endpoint <code>/page_id</code> com os parâmetros a serem atualizados.</p></li>
<li><p><strong>Configurações da Página:</strong> É possível obter e atualizar as configurações de uma Página (ex: <code>USERS_CAN_POST</code>, <code>USERS_CAN_MESSAGE</code>).</p></li>
<li><p><strong>Gerenciar Permissões de Usuários:</strong> É possível obter uma lista de outras pessoas que podem realizar tarefas em uma Página e as tarefas que cada pessoa pode realizar, enviando uma requisição <code>GET</code> para o endpoint <code>/page_id/roles</code>.</p></li>
<li><p><strong>Bloquear Pessoas:</strong> É possível bloquear uma pessoa de comentar em uma Página enviando uma requisição <code>POST</code> para o endpoint <code>/page_id/blocked</code>.</p></li>
</ul>
<h2 id="permissões-necessárias">Permissões Necessárias:</h2>
<p>Para gerenciar Páginas, são necessárias as seguintes permissões (via Facebook Login for Business):</p>
<ul>
<li><code>pages_manage_engagement</code></li>
<li><code>pages_manage_metadata</code></li>
<li><code>pages_manage_posts</code></li>
<li><code>pages_read_engagement</code></li>
<li><code>pages_read_user_engagement</code></li>
<li><code>pages_show_list</code></li>
<li><code>publish_video</code> (se for publicar vídeo na Página)</li>
</ul>
<p>Se estiver usando um usuário de sistema de negócios, a permissão <code>business_management</code> é necessária.</p>
<p>O usuário do aplicativo deve ser capaz de realizar as tarefas <code>CREATE_CONTENT</code>, <code>MANAGE</code> e/ou <code>MODERATE</code> na Página nas requisições da API.</p>
<h1 id="resumo-do-onboarding-de-clientes-em-escala-via-meta-business-sdk">Resumo do Onboarding de Clientes em Escala via Meta Business SDK</h1>
<p>O guia “Onboard Clients at Scale” do Meta Business SDK é projetado para empresas que gerenciam centenas ou milhares de pequenas empresas e desejam oferecer a compra de anúncios dentro de seu próprio site ou plataforma. Ele fornece um conjunto de APIs para integrar clientes à publicidade Meta com facilidade.</p>
<h2 id="capacidades-oferecidas">Capacidades Oferecidas:</h2>
<ul>
<li><strong>Criação de Contas de Anúncios:</strong> Permite criar contas de anúncios para seus clientes.</li>
<li><strong>Gerenciamento de Campanhas de Anúncios:</strong> Capacidade de gerenciar as campanhas de anúncios de seus clientes.</li>
<li><strong>Pagamento de Anúncios:</strong> Permite pagar por quaisquer anúncios criados em nome de seus clientes diretamente ao Meta.</li>
</ul>
<h2 id="como-funciona-solução-de-business-manager-de-2-níveis">Como Funciona (Solução de Business Manager de 2 Níveis):</h2>
<p>A solução permite gerenciar anúncios e outros ativos programaticamente via API em nome de seus clientes. Você tem acesso aos anúncios e ativos que cria e mantém um relacionamento de faturamento com seu cliente para quaisquer anúncios Meta criados em seu nome. Isso permite oferecer serviços de anúncios totalmente gerenciados ou experiências simplificadas de compra de anúncios de autoatendimento.</p>
<p>Ao usar a <strong>solução de Business Manager de 2 níveis</strong>, você pode criar um Business Manager filho em nome de seu cliente usando o user access token dele e uma Página do Facebook de propriedade do cliente.</p>
<h3 id="acesso-do-cliente">Acesso do Cliente:</h3>
<ul>
<li>Por padrão, o cliente <strong>não tem acesso</strong> ao Business Manager filho, mas você tem acesso completo e pode conceder permissão somente leitura.</li>
<li>O cliente não tem acesso ao novo Business Manager filho e sua conta de anúncios, a menos que você conceda acesso explicitamente.</li>
</ul>
<h3 id="configuração">Configuração:</h3>
<ul>
<li>O Business Manager do cliente possui um usuário de sistema Admin anexado a ele com <strong>acesso de anunciante</strong> à página fornecida pelo cliente durante a criação do Business Manager.</li>
<li>Usando o access token do usuário de sistema Admin para o Business Manager do cliente, uma conta de anúncios pode ser criada para o Business Manager do cliente e quaisquer outros ativos (pixel, público personalizado, catálogo de produtos, etc.) podem ser associados a ela.</li>
<li>Você pode compartilhar a linha de crédito (LOC) anexada ao seu Business Manager pai com o Business Manager filho e atribuir um limite de gastos.</li>
</ul>
<h2 id="benefícios-da-solução">Benefícios da Solução:</h2>
<ul>
<li><strong>Reduz o atrito</strong> para o cliente ao se inscrever na publicidade Meta.</li>
<li><strong>Permite mais modelos de receita</strong> para você e liquida o saldo com o Meta após deduzir as taxas de serviço.</li>
<li><strong>Escala bem</strong>, não exigindo intervenção manual do Meta mesmo quando o Business Manager atinge o limite máximo de contas de anúncios.</li>
<li><strong>Organiza os ativos dos clientes de forma mais limpa</strong>, mantendo todos os ativos de um cliente dentro de seu próprio Business Manager.</li>
<li><strong>Fornece notificações acionáveis</strong> para erros críticos, como contas de anúncios bloqueadas por violação de política.</li>
<li>Permite obter <strong>faturas consolidadas</strong> para todas as suas contas de anúncios, auxiliando na contabilidade.</li>
</ul>
<h1 id="resumo-da-insights-api-do-facebookmeta">Resumo da Insights API do Facebook/Meta</h1>
<p>A Insights API fornece uma interface única e consistente para recuperar estatísticas de anúncios. É fundamental para a criação de dashboards de análise de dados, permitindo a coleta de métricas como cliques, conversões e impressões.</p>
<h2 id="principais-funcionalidades-1">Principais Funcionalidades:</h2>
<ul>
<li><strong>Breakdowns:</strong> Permite agrupar os resultados por diferentes dimensões (ex: idade, gênero, país).</li>
<li><strong>Action Breakdowns:</strong> Entendimento da resposta de detalhamentos de ações (ex: cliques em links, visualizações).</li>
<li><strong>Async Jobs:</strong> Para requisições com grandes volumes de resultados, é possível usar jobs assíncronos para obter os dados.</li>
<li><strong>Limits and Best Practices:</strong> Informações sobre limites de chamadas, filtragem e melhores práticas para o uso da API.</li>
</ul>
<h2 id="rastreamento-de-métricas">Rastreamento de Métricas:</h2>
<p>Antes de obter dados sobre o desempenho de seus anúncios, é importante configurar o rastreamento das métricas de interesse. Isso pode ser feito utilizando:</p>
<ul>
<li><strong>URL Tags:</strong> Para adicionar parâmetros personalizados às URLs dos anúncios.</li>
<li><strong>Meta Pixel:</strong> Um código JavaScript que você instala em seu site para rastrear eventos e ações dos usuários.</li>
<li><strong>Conversions API:</strong> Uma integração servidor-a-servidor que permite enviar eventos de conversão diretamente para o Facebook, oferecendo maior confiabilidade e controle sobre os dados.</li>
</ul>
<h2 id="permissões-necessárias-1">Permissões Necessárias:</h2>
<p>Para acessar os dados da Insights API, é necessária a permissão <code>ads_read</code>.</p>
<h2 id="níveis-de-agregação">Níveis de Agregação:</h2>
<p>Os resultados podem ser agregados em diferentes níveis de objeto (campanha, conjunto de anúncios, anúncio), o que automaticamente deduplica os dados. Por exemplo, é possível obter insights de uma campanha no nível do anúncio.</p>
<h2 id="janelas-de-atribuição">Janelas de Atribuição:</h2>
<p>A janela de atribuição de conversão define os períodos de tempo em que uma conversão é atribuída a um anúncio. É possível especificar janelas de atribuição para cliques e visualizações (ex: 1 dia, 7 dias).</p>
<h2 id="expansão-de-campos">Expansão de Campos:</h2>
<p>É possível solicitar campos específicos no nível do nó e usar a expansão de campos para obter dados aninhados (ex: <code>insights{impressions}</code>).</p>
<h2 id="ordenação">Ordenação:</h2>
<p>Os resultados podem ser ordenados por qualquer campo, em ordem crescente ou decrescente.</p>
<h2 id="rótulos-de-anúncios">Rótulos de Anúncios:</h2>
<p>É possível obter estatísticas para rótulos de anúncios, agregando valores em um único valor no nível do objeto do anúncio.</p>
<h2 id="definição-de-cliques">Definição de Cliques:</h2>
<p>A documentação detalha a diferença entre:</p>
<ul>
<li><strong>Link Clicks (<code>actions:link_click</code>):</strong> Número de cliques em links de anúncios para destinos específicos.</li>
<li><strong>Clicks (All) (<code>clicks</code>):</strong> Contagem de vários tipos de cliques no anúncio, incluindo interações com o contêiner do anúncio e links para outras experiências.</li>
</ul>
<h2 id="objetos-excluídos-e-arquivados">Objetos Excluídos e Arquivados:</h2>
<p>As estatísticas de objetos excluídos ou arquivados aparecem quando você consulta seus pais. É possível filtrar para obter apenas objetos ativos ou incluir objetos arquivados usando parâmetros de filtragem específicos.</p>
<h1 id="resumo-da-conversions-api-do-facebookmeta">Resumo da Conversions API do Facebook/Meta</h1>
<p>A Conversions API (CAPI) é projetada para criar uma conexão entre os dados de marketing de um anunciante (como eventos de site, eventos de aplicativo, eventos de mensagens de negócios e conversões offline) de um servidor, plataforma de site, aplicativo móvel ou CRM do anunciante para os sistemas da Meta. Isso otimiza a segmentação de anúncios, diminui o custo por resultado e mede os resultados.</p>
<h2 id="principais-benefícios">Principais Benefícios:</h2>
<ul>
<li><strong>Otimização de Anúncios:</strong> Melhora a segmentação e o desempenho dos anúncios.</li>
<li><strong>Redução de Custos:</strong> Ajuda a diminuir o custo por resultado das campanhas.</li>
<li><strong>Medição Abrangente:</strong> Permite medir resultados de forma mais precisa, incluindo conversões offline.</li>
<li><strong>Simplificação da Pilha Tecnológica:</strong> Permite enviar vários tipos de eventos através de um único ponto de conexão, em vez de manter pontos de conexão separados para cada fonte de dados.</li>
</ul>
<h2 id="como-funciona">Como Funciona:</h2>
<p>Eventos de servidor são vinculados a um ID de conjunto de dados e são processados como eventos enviados usando o Meta Pixel, Facebook SDK para iOS ou Android, SDK de parceiro de medição móvel ou upload de .csv. Isso significa que os eventos de servidor podem ser usados em medição, relatórios ou otimização de forma semelhante a outros canais de conexão.</p>
<h2 id="recomendações-para-implementação">Recomendações para Implementação:</h2>
<ol type="1">
<li><strong>Começar:</strong> Escolher o método de integração mais adequado, entender os pré-requisitos e por onde começar.</li>
<li><strong>Implementar a API e Enviar Requisições:</strong> Começar a fazer requisições <code>POST</code> e aprender sobre eventos descartados, requisições em lote e tempo de transação de eventos.</li>
<li><strong>Verificar a Configuração:</strong> Confirmar que os eventos foram recebidos, deduplicados e correspondidos corretamente.</li>
</ol>
<h2 id="parâmetros-da-api">Parâmetros da API:</h2>
<p>A documentação detalha os parâmetros obrigatórios e opcionais que podem ser usados para melhorar a atribuição de anúncios e a otimização da entrega.</p>
<h2 id="recursos-adicionais">Recursos Adicionais:</h2>
<ul>
<li><strong>Payload Helper:</strong> Mostra como a carga útil deve ser estruturada ao ser enviada para o Facebook a partir do servidor.</li>
<li><strong>Troubleshooting:</strong> Ajuda a lidar com códigos de erro retornados pela Conversions API.</li>
<li><strong>Meta Pixel Events:</strong> Informações sobre eventos padrão e personalizados do Meta Pixel.</li>
<li><strong>Business Help Center:</strong> Artigos sobre a Conversions API e como testar eventos de servidor.</li>
<li><strong>Data Processing Options:</strong> Detalhes sobre o recurso de Uso de Dados Limitado e como implementá-lo para a Conversions API.</li>
</ul>
<h1 id="resumo-dos-termos-da-plataforma-meta">Resumo dos Termos da Plataforma Meta</h1>
<p>Os Termos da Plataforma Meta regem o uso das APIs, SDKs, ferramentas, plugins, código, tecnologia, conteúdo e serviços que permitem que desenvolvedores e operadores de sites desenvolvam funcionalidades, recuperem dados da Meta e de outros Produtos Meta, ou forneçam dados à Meta.</p>
<h2 id="pontos-chave">Pontos Chave:</h2>
<ul>
<li><p><strong>Conformidade:</strong> Para usar a Plataforma (incluindo o Processamento de quaisquer Dados da Plataforma), você concorda com estes Termos, bem como com todos os outros termos e políticas aplicáveis, incluindo os Termos de Serviço da Meta, os Termos de Uso do Instagram, os Termos Comerciais da Meta, os Termos das Ferramentas de Negócios e quaisquer termos de Produtos Meta aplicáveis.</p></li>
<li><p><strong>Políticas do Desenvolvedor:</strong> Você também deve cumprir os requisitos aplicáveis nas Políticas do Desenvolvedor e aqueles disponibilizados no Site do Desenvolvedor, incluindo na Documentação (coletivamente, os “Documentos do Desenvolvedor”) e todas as leis e regulamentos aplicáveis, incluindo com relação à sua coleta, uso ou outro processamento de Dados da Plataforma.</p></li>
<li><p><strong>Propriedade Intelectual:</strong> A Meta concede uma licença limitada, não exclusiva, não sublicenciável, não transferível e não atribuível para usar, acessar e integrar com a Plataforma, apenas na medida permitida nestes Termos. Você concede à Meta uma licença não exclusiva, transferível, sublicenciável, livre de royalties e mundial para hospedar, usar, distribuir, modificar, executar, copiar, exibir publicamente, traduzir e criar trabalhos derivados de qualquer informação, dados e outros conteúdos disponibilizados por você ou em seu nome em conexão com a Plataforma para qualquer finalidade comercial relacionada à operação, fornecimento ou melhoria da Plataforma ou de qualquer outro Produto Meta.</p></li>
<li><p><strong>Uso de Dados:</strong> Você não pode realizar ou facilitar práticas proibidas, como vender, licenciar ou comprar quaisquer Dados da Plataforma. Você deve obter o consentimento explícito dos usuários para coletar, usar ou compartilhar seus dados. Você deve ter uma política de privacidade clara e acessível que explique como você coleta, usa e compartilha os dados dos usuários.</p></li>
<li><p><strong>Segurança de Dados:</strong> Você deve implementar e manter medidas de segurança razoáveis para proteger os Dados da Plataforma contra acesso não autorizado, uso indevido, divulgação, alteração ou destruição. Você deve notificar a Meta imediatamente sobre qualquer violação de segurança ou acesso não autorizado aos Dados da Plataforma.</p></li>
<li><p><strong>Direitos de Revisão de Conformidade, Suspensão e Rescisão:</strong> A Meta tem o direito de revisar sua conformidade com estes Termos e pode suspender ou encerrar seu aplicativo ou conta se você não cumprir.</p></li>
<li><p><strong>Indenização:</strong> Você indenizará e isentará a Meta de quaisquer reivindicações, responsabilidades, danos, perdas e despesas (incluindo honorários advocatícios) decorrentes de ou relacionados ao seu uso da Plataforma ou sua violação destes Termos.</p></li>
<li><p><strong>Transferências Internacionais:</strong> Se você transferir Dados da Plataforma para fora do Espaço Econômico Europeu, Reino Unido ou Suíça, você deve garantir que as salvaguardas apropriadas estejam em vigor, como as Cláusulas Contratuais Padrão da Comissão Europeia.</p></li>
<li><p><strong>Glossário:</strong> O documento inclui um glossário de termos para maior clareza.</p></li>
</ul>
<h1 id="resumo-das-políticas-do-desenvolvedor-meta">Resumo das Políticas do Desenvolvedor Meta</h1>
<p>As Políticas do Desenvolvedor Meta regem o uso da Plataforma Meta para desenvolvedores, que inclui APIs, SDKs, ferramentas e serviços. O objetivo é garantir que os aplicativos sejam construídos de forma confiável e que o uso da plataforma seja adequado.</p>
<h2 id="pontos-chave-1">Pontos Chave:</h2>
<h3 id="construir-um-produto-confiável">1. Construir um Produto Confiável:</h3>
<ul>
<li><strong>Conta Autêntica:</strong> Desenvolver e gerenciar seu aplicativo com uma conta autêntica.</li>
<li><strong>Padrões da Comunidade:</strong> Garantir que o conteúdo do seu aplicativo (incluindo anúncios e conteúdo gerado pelo usuário) esteja em conformidade com os Padrões da Comunidade da Meta.</li>
<li><strong>Padrões de Publicidade:</strong> Seguir os Padrões de Publicidade da Meta para o nome, ícones e descrição do seu aplicativo.</li>
<li><strong>Transparência:</strong> Não confundir, enganar, fraudar, induzir ao erro, enviar spam ou surpreender ninguém.</li>
<li><strong>Segurança:</strong> Não usar seu aplicativo para hospedar, promover ou facilitar a distribuição de malware, spyware, adware ou quaisquer outros programas ou códigos maliciosos.</li>
<li><strong>Consentimento:</strong> Obter o consentimento das pessoas antes de publicar conteúdo ou tomar qualquer outra ação em nome delas.</li>
<li><strong>Suporte:</strong> Fornecer uma maneira de fácil acesso para as pessoas solicitarem suporte ou relatarem problemas.</li>
<li><strong>Promoções:</strong> Se você administra uma promoção em Produtos Meta, deve cumprir as diretrizes de Promoção relevantes (ex: Políticas de Promoções de Páginas e Diretrizes de Promoção do Instagram).</li>
</ul>
<h3 id="incentivar-o-uso-adequado">2. Incentivar o Uso Adequado:</h3>
<ul>
<li><strong>Restrição de Acesso:</strong> Responsável por restringir o acesso ao seu conteúdo de acordo com todas as leis e regulamentos aplicáveis (ex: geo-filtragem ou restrição de idade).</li>
<li><strong>Respeito à Plataforma:</strong> Respeitar a aparência e o funcionamento dos Produtos Meta, e os limites de funcionalidade.</li>
<li><strong>Login Correto:</strong> Verificar se a integração do Login foi feita corretamente.</li>
<li><strong>Marca Meta:</strong> Se quiser usar os logotipos ou a marca da Meta, seguir as diretrizes do Centro de Recursos e Permissões da Marca Meta e os requisitos de Logotipos e Marcas Registradas.</li>
<li><strong>Comunicação:</strong> Ser honesto sobre seu relacionamento com a Meta ao falar com a imprensa ou usuários e obter aprovação antes de emitir qualquer comunicado de imprensa ou post de blog formal mencionando a Meta.</li>
<li><strong>Histórias:</strong> As histórias não devem incluir logotipos, marcas d'água, chamadas para ação ou outro conteúdo promocional.</li>
<li><strong>Proibição de Engajamento Falso:</strong> Não participar de nenhum programa que promova ou facilite a compra, venda ou troca de “Curtidas”, “Compartilhamentos”, “Seguidores”, “Comentários”, “Contas”, “Páginas”, “Perfis”, “Grupos” ou quaisquer outros produtos, recursos ou funcionalidades da Meta.</li>
<li><strong>Jogos de Azar:</strong> Se quiser facilitar ou promover jogos de azar online, jogos de habilidade com dinheiro real online ou loterias online, obter permissão por escrito da Meta antes de usar qualquer um dos Produtos Meta.</li>
</ul>
<h3 id="coisas-que-você-deve-saber">3. Coisas que Você Deve Saber:</h3>
<ul>
<li><strong>Contato:</strong> A Meta pode compartilhar suas informações de contato com pessoas que desejam contatá-lo.</li>
<li><strong>Limites de Uso:</strong> Se você exceder 5M de MAU (usuários ativos mensais), 100M de chamadas de API por dia ou 50M de impressões por dia, você pode estar sujeito a termos adicionais.</li>
<li><strong>Comunicação da Meta:</strong> A Meta se comunica com os desenvolvedores por meio de Alertas do Desenvolvedor e e-mail do domínio fb.com ou facebookmail.com. Certifique-se de que o endereço de e-mail associado à sua conta do Facebook e o endereço de e-mail registrado no aplicativo estejam atualizados e que você não filtre essas mensagens.</li>
<li><strong>Lojas de Aplicativos:</strong> Aplicativos iOS e Android devem ser publicados em uma loja de aplicativos suportada.</li>
<li><strong>Business Manager:</strong> Se aplicável, garantir que sua conta do Business Manager esteja atualizada e precisa.</li>
<li><strong>Experiência Negativa:</strong> Se a Meta determinar que seu aplicativo está criando uma experiência negativa, pode exigir que você cumpra uma ou mais Diretrizes de Desenvolvimento de Aplicativos e pode tomar medidas de fiscalização contra você ou seu(s) aplicativo(s).</li>
<li><strong>Estabilidade do Servidor:</strong> A Meta pode tomar medidas de fiscalização em aplicativos que afetam adversamente a estabilidade dos servidores da Meta ou outros aplicativos na Plataforma.</li>
</ul>
<h3 id="jogos">4. Jogos:</h3>
<ul>
<li><strong>Políticas de Jogos do Facebook:</strong> Aplicam-se a todos os Produtos de Jogos do Facebook e Jogos Não Conectados.</li>
<li><strong>Jogos Instantâneos:</strong> Políticas adicionais para Jogos Instantâneos, incluindo a proibição de solicitar ou coletar dados pessoais ou outros dados sensíveis dos usuários.</li>
<li><strong>Jogos Web no Facebook.com:</strong> Políticas adicionais para Jogos Web no Facebook.com.</li>
</ul>
<h2 id="apis-de-campanhas-e-anúncios">2. APIs de Campanhas e Anúncios</h2>
<p>Para criar, gerenciar e replicar campanhas de anúncios, a principal ferramenta é a <strong>Marketing API</strong> do Facebook. Esta API permite o controle programático de todo o ciclo de vida da publicidade na plataforma Meta, desde a criação de criativos até a otimização e veiculação de anúncios.</p>
<h3 id="estrutura-da-marketing-api">Estrutura da Marketing API</h3>
<p>A Marketing API é construída sobre a API Graph e utiliza os mesmos conceitos de nós, arestas e campos. Os principais objetos com os quais você interagirá ao gerenciar campanhas são:</p>
<ul>
<li><strong>Contas de Anúncios (Ad Accounts):</strong> Contêineres para todas as suas campanhas, conjuntos de anúncios e anúncios.</li>
<li><strong>Campanhas (Campaigns):</strong> Definem o objetivo de marketing (ex: reconhecimento da marca, tráfego, conversões).</li>
<li><strong>Conjuntos de Anúncios (Ad Sets):</strong> Definem o orçamento, programação, público-alvo e posicionamentos.</li>
<li><strong>Anúncios (Ads):</strong> Combinam um criativo (imagem, vídeo, texto) com um conjunto de anúncios.</li>
</ul>
<h3 id="criação-e-gerenciamento-de-campanhas">Criação e Gerenciamento de Campanhas</h3>
<p>A criação de uma campanha geralmente segue uma hierarquia: primeiro a campanha, depois o conjunto de anúncios e, por fim, o anúncio. Cada um desses objetos possui seus próprios endpoints e parâmetros para configuração.</p>
<p><strong>Exemplo de Criação de Campanha (simplificado):</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="ex">curl</span> -X POST <span class="kw">\</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>  <span class="st">&quot;https://graph.facebook.com/v23.0/act_&lt;AD_ACCOUNT_ID&gt;/campaigns&quot;</span> <span class="kw">\</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;name=Minha Primeira Campanha&quot;</span> <span class="kw">\</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;objective=LINK_CLICKS&quot;</span> <span class="kw">\</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;status=PAUSED&quot;</span> <span class="kw">\</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;access_token=YOUR_ACCESS_TOKEN&quot;</span></span></code></pre></div>
<p><strong>Exemplo de Criação de Conjunto de Anúncios (simplificado):</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="ex">curl</span> -X POST <span class="kw">\</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>  <span class="st">&quot;https://graph.facebook.com/v23.0/act_&lt;AD_ACCOUNT_ID&gt;/adsets&quot;</span> <span class="kw">\</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;name=Meu Primeiro Conjunto de Anúncios&quot;</span> <span class="kw">\</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;campaign_id=&lt;CAMPAIGN_ID&gt;&quot;</span> <span class="kw">\</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;targeting={\&#39;geo_locations\&#39;:{\&#39;countries\&#39;:[\&#39;BR\&#39;]}}&quot;</span> <span class="kw">\</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;daily_budget=1000&quot;</span> <span class="kw">\</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;billing_event=IMPRESSIONS&quot;</span> <span class="kw">\</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;optimization_goal=LINK_CLICKS&quot;</span> <span class="kw">\</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;status=PAUSED&quot;</span> <span class="kw">\</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;access_token=YOUR_ACCESS_TOKEN&quot;</span></span></code></pre></div>
<p><strong>Exemplo de Criação de Anúncio (simplificado):</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ex">curl</span> -X POST <span class="kw">\</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>  <span class="st">&quot;https://graph.facebook.com/v23.0/act_&lt;AD_ACCOUNT_ID&gt;/ads&quot;</span> <span class="kw">\</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;name=Meu Primeiro Anúncio&quot;</span> <span class="kw">\</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;adset_id=&lt;ADSET_ID&gt;&quot;</span> <span class="kw">\</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;creative={\&#39;name\&#39;:\&#39;Meu Criativo\&#39;,\&#39;object_story_spec\&#39;:{\&#39;page_id\&#39;:&lt;PAGE_ID&gt;,\&#39;link_data\&#39;:{\&#39;image_hash\&#39;:\&#39;IMAGE_HASH\&#39;,\&#39;link\&#39;:\&#39;https://www.example.com\&#39;,\&#39;message\&#39;:\&#39;Confira nosso novo produto!\&#39;}}}&quot;</span> <span class="kw">\</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;status=PAUSED&quot;</span> <span class="kw">\</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;access_token=YOUR_ACCESS_TOKEN&quot;</span></span></code></pre></div>
<h3 id="replicação-de-campanhas">Replicação de Campanhas</h3>
<p>A replicação de campanhas em múltiplas contas pode ser feita através da automação da criação de campanhas, conjuntos de anúncios e anúncios, utilizando os dados e configurações de uma campanha base. Isso envolve:</p>
<ol type="1">
<li><strong>Extrair Configurações:</strong> Obter todos os detalhes da campanha, conjuntos de anúncios e anúncios da campanha base (objetivo, orçamento, público-alvo, criativos, etc.) usando as APIs de leitura.</li>
<li><strong>Replicar Objetos:</strong> Usar os dados extraídos para criar novos objetos de campanha, conjunto de anúncios e anúncio nas contas de destino, ajustando os parâmetros conforme necessário (ex: <code>AD_ACCOUNT_ID</code>, <code>PAGE_ID</code>).</li>
</ol>
<p>Para otimizar a replicação, é crucial gerenciar os criativos (imagens, vídeos) de forma eficiente. A API permite o upload de imagens e vídeos, e o uso de <code>image_hash</code> ou <code>video_id</code> para reutilizar criativos existentes.</p>
<h2 id="apis-de-relatórios-e-analytics">3. APIs de Relatórios e Analytics</h2>
<p>Para construir um dashboard de análise de dados, a <strong>Insights API</strong> é a ferramenta fundamental. Ela fornece uma interface consistente para recuperar estatísticas de anúncios, permitindo a coleta de métricas como cliques, conversões, impressões, alcance, frequência e custo.</p>
<h3 id="métricas-e-dimensões">Métricas e Dimensões</h3>
<p>A Insights API permite que você solicite uma ampla gama de métricas (ex: <code>impressions</code>, <code>clicks</code>, <code>conversions</code>, <code>spend</code>) e as agrupe por diferentes dimensões (ex: <code>age</code>, <code>gender</code>, <code>country</code>, <code>placement</code>). Isso é essencial para análises detalhadas e segmentadas.</p>
<p><strong>Exemplo de Obtenção de Insights de Campanha:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="ex">curl</span> -G <span class="kw">\</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;date_preset=last_7d&quot;</span> <span class="kw">\</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;fields=impressions,clicks,spend,conversions&quot;</span> <span class="kw">\</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>  <span class="ex">-d</span> <span class="st">&quot;access_token=YOUR_ACCESS_TOKEN&quot;</span> <span class="kw">\</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>  <span class="st">&quot;https://graph.facebook.com/v23.0/AD_CAMPAIGN_ID/insights&quot;</span></span></code></pre></div>
<h3 id="conversions-api-capi">Conversions API (CAPI)</h3>
<p>A <strong>Conversions API (CAPI)</strong> é uma integração servidor-a-servidor que complementa o Meta Pixel e o Facebook SDK. Ela permite enviar eventos de marketing (como eventos de site, eventos de aplicativo, eventos de mensagens de negócios e conversões offline) diretamente do seu servidor para os sistemas da Meta. Isso melhora a precisão da atribuição, otimiza a segmentação de anúncios e diminui o custo por resultado.</p>
<p>Para um dashboard de análise de dados, a CAPI é crucial para garantir que todos os eventos de conversão sejam capturados e atribuídos corretamente, especialmente em cenários onde o rastreamento baseado em navegador pode ser limitado (ex: bloqueadores de anúncios, restrições de cookies).</p>
<p><strong>Benefícios da CAPI para Análise de Dados:</strong></p>
<ul>
<li><strong>Confiabilidade:</strong> Reduz a perda de dados devido a problemas de navegador ou bloqueadores.</li>
<li><strong>Precisão:</strong> Melhora a correspondência de eventos e a atribuição de conversões.</li>
<li><strong>Controle:</strong> Oferece maior controle sobre quais dados são enviados e como são processados.</li>
<li><strong>Eventos Offline:</strong> Permite o envio de conversões que ocorrem fora do ambiente online, como compras em lojas físicas.</li>
</ul>
<h3 id="webhooks">Webhooks</h3>
<p>Os Webhooks do Facebook permitem que seu SaaS receba notificações em tempo real sobre eventos importantes que ocorrem na plataforma, como novas mensagens em Páginas, alterações em campanhas de anúncios ou atualizações de status. Isso é fundamental para manter seu dashboard atualizado e para automatizar ações em resposta a eventos específicos.</p>
<p>Ao assinar Webhooks, você pode configurar um endpoint em seu servidor para receber payloads JSON contendo informações sobre os eventos. Isso elimina a necessidade de fazer polling constante na API, economizando recursos e garantindo que você tenha os dados mais recentes para sua análise.</p>
<h2 id="permissões-limitações-e-melhores-práticas">4. Permissões, Limitações e Melhores Práticas</h2>
<p>Para garantir uma integração bem-sucedida e em conformidade com as diretrizes da Meta, é crucial entender as permissões necessárias, os limites de taxa (rate limits) e as melhores práticas de desenvolvimento.</p>
<h3 id="permissões-permissions">Permissões (Permissions)</h3>
<p>As permissões (também conhecidas como escopos) definem o tipo de acesso que seu aplicativo tem aos dados de um usuário ou Página. Elas devem ser solicitadas aos usuários durante o processo de login e são um aspecto crítico da privacidade e segurança. As permissões são categorizadas e devem ser revisadas e aprovadas pela Meta para acesso a dados sensíveis.</p>
<p>Algumas permissões importantes para o seu SaaS incluem:</p>
<ul>
<li><code>ads_management</code>: Permite que seu aplicativo crie e gerencie anúncios em nome de um usuário.</li>
<li><code>ads_read</code>: Permite que seu aplicativo leia dados de anúncios, como desempenho e insights.</li>
<li><code>business_management</code>: Permite que seu aplicativo gerencie ativos de negócios, como Business Managers e contas de anúncios.</li>
<li><code>pages_show_list</code>: Permite que seu aplicativo obtenha uma lista das Páginas que um usuário gerencia.</li>
<li><code>pages_read_engagement</code>: Permite que seu aplicativo leia o engajamento (curtidas, comentários, compartilhamentos) em Páginas.</li>
<li><code>pages_manage_posts</code>: Permite que seu aplicativo crie, edite e exclua posts em Páginas.</li>
</ul>
<p>É fundamental solicitar apenas as permissões necessárias para a funcionalidade do seu aplicativo e justificar o uso de cada uma delas durante o processo de Revisão de Aplicativo da Meta.</p>
<h3 id="limites-de-taxa-rate-limits">Limites de Taxa (Rate Limits)</h3>
<p>A API do Facebook/Meta impõe limites de taxa para garantir a estabilidade e a justiça no uso da plataforma. Exceder esses limites pode resultar em erros e na suspensão temporária do acesso à API. Os limites de taxa são dinâmicos e baseados em vários fatores, incluindo o número de usuários do seu aplicativo e o volume de chamadas.</p>
<p>Existem diferentes tipos de limites de taxa:</p>
<ul>
<li><strong>App-level Rate Limits:</strong> Baseados no número de usuários ativos do seu aplicativo. Quanto mais usuários, maior o limite.</li>
<li><strong>User-level Rate Limits:</strong> Aplicados por usuário, para evitar abusos individuais.</li>
<li><strong>Page-level Rate Limits:</strong> Aplicados por Página, para evitar abusos em Páginas específicas.</li>
</ul>
<p>É crucial implementar um tratamento de erros robusto para lidar com respostas de limite de taxa (código de erro 4, 17, 341, 613) e utilizar estratégias como backoff exponencial para tentar novamente as requisições.</p>
<h3 id="melhores-práticas-de-desenvolvimento">Melhores Práticas de Desenvolvimento</h3>
<p>Seguir as melhores práticas de desenvolvimento da Meta é essencial para a longevidade e o sucesso da sua integração.</p>
<ul>
<li><strong>Segurança:</strong>
<ul>
<li>Mantenha seus App Secrets e Access Tokens seguros. Nunca os exponha no código do lado do cliente.</li>
<li>Use HTTPS para todas as comunicações com a API.</li>
<li>Implemente validação de dados rigorosa para evitar injeção de código malicioso.</li>
</ul></li>
<li><strong>Privacidade:</strong>
<ul>
<li>Obtenha consentimento explícito dos usuários para coletar, usar e compartilhar seus dados.</li>
<li>Tenha uma política de privacidade clara e acessível que explique suas práticas de dados.</li>
<li>Minimize a coleta de dados, solicitando apenas o que é estritamente necessário para a funcionalidade do seu aplicativo.</li>
</ul></li>
<li><strong>Experiência do Usuário:</strong>
<ul>
<li>Forneça uma experiência de login clara e transparente.</li>
<li>Comunique-se de forma clara sobre as permissões que seu aplicativo solicita e por que elas são necessárias.</li>
<li>Ofereça uma maneira fácil para os usuários desconectarem suas contas ou revogarem permissões.</li>
</ul></li>
<li><strong>Gerenciamento de Erros:</strong>
<ul>
<li>Implemente um tratamento de erros abrangente para lidar com falhas da API, incluindo limites de taxa e permissões insuficientes.</li>
<li>Use mensagens de erro claras e úteis para os usuários.</li>
</ul></li>
<li><strong>Atualizações da API:</strong>
<ul>
<li>Mantenha-se atualizado com as mudanças na API do Facebook/Meta. A plataforma é atualizada regularmente, e as alterações podem afetar a funcionalidade do seu aplicativo.</li>
<li>Assine as notificações de desenvolvedor e monitore o changelog da API.</li>
</ul></li>
</ul>
<h2 id="conclusão">Conclusão</h2>
<p>A integração com a API do Facebook/Meta é um empreendimento complexo, mas altamente recompensador, que pode impulsionar significativamente as capacidades do seu SaaS. Ao seguir as diretrizes e melhores práticas descritas neste guia, você estará bem posicionado para construir uma plataforma robusta e escalável, capaz de gerenciar eficientemente as operações de marketing de seus clientes no ecossistema Meta.</p>
<p>Lembre-se de que a plataforma Meta está em constante evolução. Manter-se atualizado com as últimas mudanças na API, políticas e melhores práticas é fundamental para garantir a continuidade e o sucesso da sua integração. Acompanhe os anúncios da Meta para Desenvolvedores, participe de comunidades e esteja preparado para adaptar sua solução conforme necessário.</p>
<p>Com uma integração bem-sucedida, seu SaaS poderá oferecer um valor inestimável aos seus clientes, permitindo-lhes otimizar suas campanhas de anúncios, gerenciar suas presenças no Facebook e Instagram de forma centralizada e obter insights acionáveis a partir de seus dados de marketing. Isso não apenas fortalecerá a proposta de valor do seu produto, mas também o posicionará como um parceiro estratégico para empresas que buscam maximizar seu impacto no maior ecossistema de mídia social do mundo.</p>
<hr />
</body>
</html>
